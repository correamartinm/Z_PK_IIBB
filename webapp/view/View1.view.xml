<mvc:View controllerName="zpkiibb.zpkiibb.controller.View1" displayBlock="true"
    xmlns:table="sap.ui.table"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <Page id="idView1" title="{i18n>title} {i18n>00caba}" backgroundDesign="Solid" showFooter="false" showHeader="true" showNavButton="true" navButtonPress="" class="sapUiSizeCompact">
        <content>
            <NavContainer id="wizardNavContainer">
                <pages>
                    <Page id="wizardContentPage" showHeader="false">
                        <content>
                            <Wizard id="CreateProductWizard" class="sapUiResponsivePadding--header sapUiResponsivePadding--content" complete="wizardCompletedHandler">

                                <WizardStep id="carga_fichero" title="{i18n>step1}" validated="true">
                                    <Panel id="panel-padron" expandable="true" expanded="true" headerText="{i18n>padronfichero}">
                                        <HBox id="_IDGenHBox1" width="100%" alignItems="Center">

                                            <VBox id="_IDGenVBox1" alignItems="Start">
                                                <Label id="_IDGenLabel1" text="{i18n>padron}" width="120px" labelFor="id-select-padron" />
                                                <Select id="id-select-padron" width="250px" change="onSelectPadron"  items="{/PadronSet}" >
                                                    <core:Item id="_IDGenItem1" key="{Padron_Id}" text="{Padron_Id} {Descripcion}" />
                                                </Select>

                                            </VBox>

                                            <HBox id="_IDGenHBox2" class="sapUiSmallMarginBegin">
                                                <RadioButtonGroup id="SelectArchivo" width="120px" selectedIndex="0" >
                                                    <RadioButton id="_IDGenRadioButton1" text="{i18n>servidor}" select=".selectArchivoServer" />
                                                    <RadioButton id="_IDGenRadioButton2" text="{i18n>local}" select=".selectArchivoLocal"/>
                                                </RadioButtonGroup>
                                            </HBox>

                                            <VBox class="sapUiSmallMarginBegin" visible="false" id="id-file-upload">
                                                <Label id="_IDGenLabel2" text="{i18n>fichero}" labelFor="id-carga-fichero" />
                                                <u:FileUploader id="id-carga-fichero" uploadOnChange="false"  uploadStart="onBeforeUploadStarts"
                                                    uploadUrl="/sap/opu/odata/sap/ZFIOD_IIBB_PADRON_UPLOAD_SRV/ArchivoSet" 
                                                    buttonText="{i18n>btnupload}" fileType="TXT" multiple="false"
                                                    style="Emphasized" change="onUploadFileChange" placeholder="{i18n>fileselect}"  />
                                            </VBox>
                                        </HBox>

                                        <Button text="{i18n>upload}" id="id-btn-upload" class="sapUiSmallMarginTop" visible="false" press="onFileupload" />

                                    </Panel>

                                    <Panel id="panel-parametros" headerText="{i18n>parametros}" expandable="true" expanded="false">
                                        <HBox id="_IDGenHBox3">

                                            <VBox id="_IDGenVBox2" alignItems="Start">
                                                <Label id="_IDGenLabel3" text="{i18n>sociedad}" labelFor="id-selec-sociedad" width="140px" />
                                                <Select id="id-sociedad-p1" change="onSelectSociedad" width="200px" items="{/SociedadSet}">
                                                    <core:Item id="_IDGenItem2" key="{Sociedad_Id}" text="{Sociedad_Id} {Descripcion}" />
                                                </Select>

                                                
                                            </VBox>

                                            <VBox id="_IDGenVBox3" alignItems="Start" class="sapUiTinyMarginBegin">
                                                <Label id="_IDGenLabel4" text="{i18n>tiporetencion}" labelFor="id-select-retenciones" width="180px" />
                                                <Select id="id-select-retenciones" forceSelection="true" change="onSelectRetenciones" width="200px" items="{/RetencionSet}" >
                                                    <core:Item id="_IDGenItem3" key="{Tipo_Retencion}" text="{Tipo_Retencion} {Denominacion}" />
                                                </Select>

                                            </VBox>

                                            <VBox id="_IDGenVBox4" alignItems="Start" class="sapUiTinyMarginBegin">
                                                <Label id="_IDGenLabel5" text="{i18n>indretencion}" wrapping="true" labelFor="id-busqueda" width="126px" />
                                                <Select id="id-select-idretencion" width="200px" change="onSelectIdRetencion" forceSelection="true" 
                                                items="{/IndicadorSet}">
                                                    <core:Item id="_IDGenItem4" key="{Indicador_Ret}" text="{Indicador_Ret} {Tipo_Retencion} {Denominacion}" />
                                                </Select>

                                            </VBox>

                                        </HBox>

                                        <Button text="{i18n>ejecutar}" id="id-btn-p1" class="sapUiSmallMarginTop" press="onEjecutar" />
                                    </Panel>

                                    <Panel id="id-pnl-resultado-p1" headerText="{i18n>resultado}" expandable="true" expanded="false" visible="true">

                                        <table:Table id="id-table-p1" rows="{/Resultado}" selectionMode="None">

                                            <table:Column id="_IDGenColumn1" width="90px">
                                                <Label id="_IDGenLabel6" text="{i18n>sociedad}" />
                                                <table:template>
                                                    <Text id="_IDGenText1" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn2" width="65px">
                                                <Label id="_IDGenLabel7" text="{i18n>region}" />
                                                <table:template>
                                                    <Text id="_IDGenText2" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn3" width="65px">
                                                <Label id="_IDGenLabel8" text="{i18n>idpadron}" wrapping="true" />
                                                <table:template>
                                                    <Text id="_IDGenText3" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn4" width="95px">
                                                <Label id="_IDGenLabel9" text="{i18n>cuenta}" />
                                                <table:template>
                                                    <Text id="_IDGenText4" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn5" width="95px">
                                                <Label id="_IDGenLabel10" text="{i18n>nidentificacion}" wrapping="true" />
                                                <table:template>
                                                    <Text id="_IDGenText5" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn6" width="90px">
                                                <Label id="_IDGenLabel11" text="{i18n>tipoant}" />
                                                <table:template>
                                                    <Text id="_IDGenText6" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn7" width="50px">
                                                <Label id="_IDGenLabel12" text="{i18n>indant}" wrapping="true" />
                                                <table:template>
                                                    <Text id="_IDGenText7" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn8" width="90px">
                                                <Label id="_IDGenLabel13" text="{i18n>tiponuevo}" />
                                                <table:template>
                                                    <Text id="_IDGenText8" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn9" width="90px">
                                                <Label id="_IDGenLabel14" text="{i18n>intnuevo}" />
                                                <table:template>
                                                    <Text id="_IDGenText9" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn10" width="90px">
                                                <Label id="_IDGenLabel15" text="{i18n>tipomsg}" />
                                                <table:template>
                                                    <Text id="_IDGenText10" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn11" width="90px">
                                                <Label id="_IDGenLabel16" text="{i18n>idmsg}" />
                                                <table:template>
                                                    <Text id="_IDGenText11" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn12" width="45px">
                                                <Label id="_IDGenLabel17" text="{i18n>nummsg}" wrapping="true" />
                                                <table:template>
                                                    <Text id="_IDGenText12" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                            <table:Column id="_IDGenColumn13" width="210px">
                                                <Label id="_IDGenLabel18" text="{i18n>txtmsg}" />
                                                <table:template>
                                                    <Text id="_IDGenText13" text="" wrapping="false" />
                                                </table:template>
                                            </table:Column>

                                        </table:Table>

                                    </Panel>

                                </WizardStep>
                                <WizardStep id="actualiza_padron" validated="true" title="{i18n>step2}">
                                    <Panel id="_IDGenPanel1">

                                        <HBox id="_IDGenHBox4">

                                            <VBox id="_IDGenVBox5" alignItems="Start">
                                                <Label id="_IDGenLabel19" text="{i18n>sociedad}" width="120px" />
                                                <Select id="id-mcb-sociedad-p2" change="onSelectSociedad" items="{
                                                    path: '/Proveedor',
                                                    sorter: { path: 'Name' }
                                                }">
                                                    <core:Item id="_IDGenItem5" key="{ProductId}" text="{Name}" />
                                                </Select>
                                            </VBox>

                                            <VBox id="_IDGenVBox6" alignItems="Start" class="sapUiTinyMarginBegin">
                                                <Label id="_IDGenLabel20" text="{i18n>proveedor}" width="120px" />
                                                <Select id="id-mcb-proveedor-p2" change="onSelectProveedor" items="{
                                                    path: '/Proveedor',
                                                    sorter: { path: 'Name' }
                                                }">
                                                    <core:Item id="_IDGenItem6" key="{ProductId}" text="{Name}" />
                                                </Select>

                                            </VBox>

                                        </HBox>

                                        <Label id="_IDGenLabel21"/>
                                        <Text id="_IDGenText14" text=""/>
                                        <Button text="{i18n>ejecutar}" id="id-btn-p2" class="sapUiSmallMarginTop" />
                                    </Panel>

                                    <Panel id="id-pnl-resultado-p2" headerText="{i18n>resultado}" expandable="true" expanded="false" visible="true">

                                    </Panel>

                                </WizardStep>
                                <WizardStep id="actualiza_partida" validated="false" activate="parametrosActivacion" title="{i18n>step3}">
                                    <Panel id="_IDGenPanel2">

                                        <HBox id="_IDGenHBox5">

                                            <VBox id="_IDGenVBox7" alignItems="Start">
                                                <Label id="_IDGenLabel22" text="{i18n>sociedad}" width="120px" />
                                                <Select id="id-mcb-sociedad-p3" change="onSelectSociedad" items="{
                                                    path: '/Proveedor',
                                                    sorter: { path: 'Name' }
                                                }">
                                                    <core:Item id="_IDGenItem7" key="{ProductId}" text="{Name}" />
                                                </Select>
                                            </VBox>

                                            <VBox id="_IDGenVBox8" alignItems="Start" class="sapUiTinyMarginBegin">
                                                <Label id="_IDGenLabel23" text="{i18n>proveedor}" width="120px" />
                                                <Select id="id-mcb-proveedor-p3" change="onSelectProveedor" items="{
                                                    path: '/Proveedor',
                                                    sorter: { path: 'Name' }
                                                }">
                                                    <core:Item id="_IDGenItem8" key="{ProductId}" text="{Name}" />
                                                </Select>

                                            </VBox>
                                        </HBox>

                                        <Label id="_IDGenLabel24"/>
                                        <Text id="_IDGenText15" text=""/>
                                        <Button text="{i18n>ejecutar}" id="id-btn-p3" class="sapUiSmallMarginTop" />
                                    </Panel>

                                    <Panel id="id-pnl-resultado-p3" headerText="{i18n>resultado}" expandable="true" expanded="false" visible="true">

                                    </Panel>


                                </WizardStep>
                            </Wizard>
                        </content>
                        <footer>
                            <OverflowToolbar id="_IDGenOverflowToolbar1">
                                <ToolbarSpacer id="_IDGenToolbarSpacer1"/>
                                <Button id="_IDGenButton1" text="Cancel" press="handleWizardCancel"/>
                            </OverflowToolbar>
                        </footer>
                    </Page>

                </pages>
            </NavContainer>
        </content>
    </Page>
</mvc:View>